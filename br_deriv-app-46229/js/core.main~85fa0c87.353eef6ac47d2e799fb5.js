"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1982],{24846:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(59403),r=n.n(a);const o=(0,n(75672).$j)((function(e){var t=e.client,n=e.ui;return{currencies:t.currencies_list,has_currency:!!t.currency,has_real_account:t.has_active_real_account,legal_allowed_currencies:t.upgradeable_currencies,real_account_signup:n.real_account_signup,resetRealAccountSignupParams:n.resetRealAccountSignupParams,selectable_currencies:t.selectable_currencies,available_crypto_currencies:t.available_crypto_currencies,real_account_signup_target:n.real_account_signup_target,is_dxtrade_allowed:t.is_dxtrade_allowed,is_mt5_allowed:t.is_mt5_allowed,has_fiat:t.has_fiat,accounts:t.accounts,is_eu:t.is_eu}}))(r())},26677:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(62762),r=n.n(a);const o=(0,n(75672).$j)((function(e){var t=e.client;return{is_gb_residence:"gb"===t.residence,fetchStatesList:t.fetchStatesList,states_list:t.states_list}}))(r())},78568:(e,t,n)=>{n.d(t,{FX:()=>r,GH:()=>o,Sj:()=>c});var a=n(20374),r={SUCCESS:1,WARN:0,DANGER:-1,PENDING:-2},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.account_residence,r=void 0===n?"":n,o=arguments.length>2?arguments[2]:void 0;if("im"===r)return(0,a.localize)("Deriv account");switch(e){case"svg":return(0,a.localize)("Deriv account");case"iom":return o.is_united_kingdom?(0,a.localize)("Deriv Gaming"):(0,a.localize)("Deriv Synthetic");case"malta":return o.is_united_kingdom||o.is_rest_of_eu||o.is_belgium?(0,a.localize)("Options"):(0,a.localize)("Deriv Synthetic");case"maltainvest":return o.is_united_kingdom||o.is_france||o.is_other_eu||o.is_rest_of_eu?(0,a.localize)("Multipliers"):(0,a.localize)("Deriv Financial");default:return(0,a.localize)("Deriv")}},c=function(e){var t=e.landing_company_shortcode,n=void 0===t?"":t,a=e.is_fully_authenticated,o=void 0!==a&&a,c=e.is_age_verified,i=void 0!==c&&c,s=e.is_isle_of_man_residence,l=void 0!==s&&s,u=e.is_belgium_residence;return"svg"===n||l||void 0!==u&&u?r.SUCCESS:"iom"===n?o?r.SUCCESS:i?r.WARN:r.DANGER:r.SUCCESS}},67513:(e,t,n)=>{n.d(t,{Z:()=>te});var a=n(40841),r=n.n(a),o=n(32735),c=n(90258),i=n(65597),s=n(17502),l=n(20374),u=n(75672),d=n(76541),_=n(63156),m=n(81070),g=n(38989),f=n(78247),p=n.n(f),y=n(24846),h=n(58226),v=["setLoading","onSuccessSetAccountCurrency","onError","available_crypto_currencies","has_fiat","landing_company_shortcode","is_loading"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const w=(0,u.$j)((function(e){var t=e.client;return{available_crypto_currencies:t.available_crypto_currencies,can_change_fiat_currency:t.can_change_fiat_currency,currency:t.currency,current_currency_type:t.current_currency_type,current_fiat_currency:t.current_fiat_currency,is_eu:t.is_eu,has_fiat:t.has_fiat,landing_company_shortcode:t.landing_company_shortcode,setCurrency:t.setAccountCurrency,createCryptoAccount:t.createCryptoAccount}}))((function(e){var t=e.setLoading,n=e.onSuccessSetAccountCurrency,a=e.onError,c=e.available_crypto_currencies,u=e.has_fiat,d=e.landing_company_shortcode,_=e.is_loading,m=E(e,v),g=o.useState(""),f=o.useState({currency:""}),w=function(){return 0===c.length&&u&&m.currency};return _?o.createElement(h.Z,null):o.createElement("div",{className:r()("set-currency-modal",{"set-currency-modal--disabled":w()})},w()&&o.createElement("div",{className:"set-currency-modal--disabled-message"},o.createElement("p",null,(0,l.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:s.website_name}))),o.createElement("div",{className:"set-currency-modal__heading-container"},o.createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"set-currency-modal__heading-container__main-heading"},(0,l.localize)("You have an account that do not have currency assigned. Please choose a currency to trade with this account.")),o.createElement(i.Text,{as:"p",weight:"bold",align:"center",className:"set-currency-modal__heading-container__sub-heading"},(0,l.localize)("Please choose your currency"))),o.createElement(y.Z,b({className:"account-wizard__body",onSubmit:function(e,r,o){!function(e,r){t(!0);var o=e.currency;o&&m.setCurrency(o).then((function(e){r(!1),n("",e.echo_req.set_account_currency)})).catch((function(e){a(e)})).finally((function(){return t(!1)}))}(r,o)},value:f,form_error:g,set_currency:!0,validate:(0,s.generateValidationFunction)(d,p())},m)))}));var S=function(e){var t=e.current,n=e.closeRealAccountSignup,a=e.continueRoute,c=e.deposit_target,u=e.deposit_real_account_signup_target,d=e.history,_=e.onSubmit,m=e.setIsDeposit,g=function(){return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},f=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})},p=function(){n(),m(!1)};return o.createElement(o.Fragment,null,(0,s.isDesktop)()&&o.createElement("div",{onClick:p,className:"finished-add-currency__close"},o.createElement(i.Icon,{icon:"IcCross"})),o.createElement(i.Div100vhContainer,{className:"finished-add-currency__dialog",is_disabled:(0,s.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:r()("status-dialog__header",{"status-dialog__header--center":(0,s.isMobile)()})},o.createElement(g,null),o.createElement(f,{className:"bottom-right-overlay"})),o.createElement("div",{className:r()("status-dialog__body",{"status-dialog__body--no-grow":(0,s.isMobile)()})},o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(l.Localize,{i18n_default_text:"Your account is ready"})),o.createElement(i.Text,{as:"p",align:"center"},o.createElement(l.Localize,{i18n_default_text:"Fund your account to start trading."}))),o.createElement("div",{className:"finished-add-currency__footer"},o.createElement(i.Button,{onClick:p,text:(0,l.localize)("Maybe later"),secondary:!0}),o.createElement(i.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(u)?function(){n(),a(),d.push(c),c===s.routes.cashier_deposit&&m(!0)}:_,text:(0,l.localize)("Deposit now"),primary:!0}))))};const A=o.memo(S);var C=function(e){var t=e.prev,n=e.current;return t?o.createElement(l.Localize,{i18n_default_text:"<0>You have successfully changed your currency to {{currency}}.</0><0>Make a deposit now to start trading.</0>",values:{currency:(0,s.getCurrencyDisplayCode)(n)},components:[o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]}):o.createElement(l.Localize,{i18n_default_text:"<0>You have added a {{currency}} account.</0><0> Make a deposit now to start trading.</0>",values:{currency:(0,s.getCurrencyDisplayCode)(n)},components:[o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]})},O=function(e){var t=e.current,n=e.closeRealAccountSignup,a=e.continueRoute,c=e.deposit_target,u=e.deposit_real_account_signup_target,d=e.history,_=e.onCancel,m=e.onSubmit,g=e.prev,f=e.setIsDeposit,p=function(){return g?o.createElement(i.Icon,{icon:"IcCurrency-".concat(g.toLowerCase()),height:120,width:90}):null},y=function(){return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},h=function(){return g?o.createElement(i.Icon,{icon:"IcArrowPointerRight",color:"red",width:50,height:20}):null},v=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})};return o.createElement(i.Div100vhContainer,{className:"status-dialog",is_disabled:(0,s.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:r()("status-dialog__header",{"status-dialog__header--center":(0,s.isMobile)(),"status-dialog__header--set-currency":g})},o.createElement(p,null),o.createElement(h,null),o.createElement(y,null),o.createElement(v,{className:"bottom-right-overlay"})),o.createElement("div",{className:r()("status-dialog__body",{"status-dialog__body--no-grow":(0,s.isMobile)()})},o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(l.Localize,{i18n_default_text:"Success!"})),o.createElement(C,{prev:g,current:t})),o.createElement("div",{className:"status-dialog__footer"},o.createElement(i.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(u)?function(){n(),a(),d.push(c),c===s.routes.cashier_deposit&&f(!0)}:m,text:(0,l.localize)("Deposit now"),primary:!0}),o.createElement(i.Button,{onClick:_,text:(0,l.localize)("Maybe later"),secondary:!0})))};const x=o.memo(O);var z=n(60216),M=n.n(z),N=function(e){switch(e.code){case"InvalidPhone":return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(l.Localize,{i18n_default_text:"Let’s try that again"}));case"DuplicateAccount":return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(l.Localize,{i18n_default_text:"Already signed up?"}));default:return o.createElement(i.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(l.Localize,{i18n_default_text:"Something’s not right"}))}},k=function(e){var t=e.code,n=e.message;return"DuplicateAccount"===t?o.createElement("p",null,o.createElement(l.Localize,{i18n_default_text:"An account with your details already exists."}),o.createElement("br",null),o.createElement(l.Localize,{i18n_default_text:"If you're having trouble signing in, let us know via <0>chat</0>",components:[o.createElement("span",{className:"chat-inline",key:0,onClick:function(){return window.LC_API.open_chat_window()}})]})):o.createElement("p",null,n)},I=function(e){var t=e.text,n=e.onConfirm;return o.createElement(i.Button,{primary:!0,onClick:n,large:!0},t)},L=function(e){var t=e.code,n=e.onConfirm;switch(t){case"CurrencyTypeNotAllowed":return o.createElement(I,{text:(0,l.localize)("Try a different currency"),onConfirm:n});case"InvalidPhone":return o.createElement(I,{text:(0,l.localize)("Try a different phone number"),onConfirm:n});case"DuplicateAccount":return null;default:return o.createElement(i.StaticUrl,{href:"help-centre/".concat("InvalidAccount"===t?"account#who-can-open-an-account":""),type:"button",className:"dc-btn dc-btn--primary"},o.createElement(i.Text,{weight:"bold",color:"white",size:"xxs"},o.createElement(l.Localize,{i18n_default_text:"OK"})))}},P=function(e){var t=e.message,n=e.code,a=e.onConfirm;return o.createElement("div",{className:"account-wizard--error"},o.createElement(i.Icon,{icon:"IcAccountError",size:115}),o.createElement(N,{code:n}),o.createElement(k,{code:n,message:t}),o.createElement(L,{code:n,onConfirm:a}))};P.propTypes={code:M().string,message:M().string,onConfirm:M().func};const R=P;var D=n(78568),T=function(e){var t=e.status;return o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},t===D.FX.SUCCESS&&o.createElement(l.Localize,{i18n_default_text:"Your account is ready"}),t===D.FX.WARN&&o.createElement(l.Localize,{i18n_default_text:"Please verify your address"}),t===D.FX.DANGER&&o.createElement(l.Localize,{i18n_default_text:"Please verify your identity and address"}),t===D.FX.PENDING&&o.createElement(l.Localize,{i18n_default_text:"We're processing your personal information"}))},j=function(e){var t=e.status;return"iom"===e.landing_company_shortcode?o.createElement(T,{status:t}):o.createElement(i.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(l.Localize,{i18n_default_text:"Your account is ready"}))};j.propTypes={status:M().number.isRequired,landing_company_shortcode:M().string.isRequired};var F=function(e){var t=e.country_standpoint,n=e.is_fully_authenticated,a=e.landing_company_shortcode,r=e.status,c=void 0===r?D.FX.SUCCESS:r,s="";if("maltainvest"===a)s=n?[o.createElement(l.Localize,{key:0,i18n_default_text:"You have added a Deriv Financial account."}),o.createElement(l.Localize,{key:1,i18n_default_text:"Make a deposit now to start trading."})]:o.createElement(l.Localize,{i18n_default_text:"We need proof of your identity and address before you can start trading."});else if("malta"===a)(t.is_united_kingdom&&n||t.is_rest_of_eu||t.is_belgium)&&(s=o.createElement(l.Localize,{i18n_default_text:"You have added a real Options account.<0/>Make a deposit now to start trading.",components:[o.createElement("br",{key:0})]}));else if("iom"===a)t.is_united_kingdom&&n&&(s=o.createElement(l.Localize,{i18n_default_text:"You have added a real Gaming account.<0/>Make a deposit now to start trading.",components:[o.createElement("br",{key:0})]}));else switch(c){case D.FX.WARN:s=o.createElement(l.Localize,{i18n_default_text:"To get trading, please confirm where you live."});break;case D.FX.DANGER:s=o.createElement(l.Localize,{i18n_default_text:"To get trading, please confirm who you are, and where you live."});break;case D.FX.PENDING:s=o.createElement(l.Localize,{i18n_default_text:"You'll be able to get trading as soon as verification is complete."});break;default:s=o.createElement(l.Localize,{i18n_default_text:"Fund your account to start trading."})}return Array.isArray(s)?o.createElement(o.Fragment,null,s.map((function(e,t){return o.createElement(i.Text,{key:t,as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},e)}))):o.createElement(i.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},s)};F.propTypes={currency:M().string,is_isle_of_man_residence:M().bool,landing_company_shortcode:M().string,status:M().number};var U=function(e){var t=e.status,n=e.landing_company_shortcode,a=e.closeModal,r=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOI,s=e.closeModalAndOpenPOA,u=function(e){var t=e.status,n=e.landing_company_shortcode,a=e.is_fully_authenticated,r=e.closeModal,o=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOI,i=e.closeModalAndOpenPOA;switch(n){case"iom":return t===D.FX.DANGER?{label:(0,l.localize)("Submit proofs"),action:c}:t===D.FX.WARN?{label:(0,l.localize)("Submit proof"),action:i}:t===D.FX.PENDING?{label:(0,l.localize)("OK"),action:r}:{label:(0,l.localize)("Deposit"),action:o};case"maltainvest":return a?{label:(0,l.localize)("Deposit"),action:o}:{label:(0,l.localize)("Submit proof"),action:c};default:return{label:(0,l.localize)("Deposit"),action:o}}}({status:t,landing_company_shortcode:n,is_fully_authenticated:e.is_fully_authenticated,closeModal:a,closeModalAndOpenCashier:r,closeModalAndOpenPOI:c,closeModalAndOpenPOA:s}),d=u.label,_=u.action;return o.createElement(i.Button,{primary:!0,text:d,onClick:_})},Z=function(e){var t=e.status,n=e.landing_company_shortcode,a=e.closeModal,r=e.switchToVirtual;if(e.is_bypassed)return null;var c=function(e){var t=e.status,n=e.landing_company_shortcode,a=e.closeModal,r=e.switchToVirtual;return"iom"===n?t===D.FX.SUCCESS?{label:(0,l.localize)("Maybe later"),action:a}:t===D.FX.WARN?{label:(0,l.localize)("Trade on demo"),action:function(){a(),r()}}:{label:(0,l.localize)("Maybe later"),action:a}:{label:(0,l.localize)("Maybe later"),action:a}}({status:t,landing_company_shortcode:n,closeModal:a,switchToVirtual:r}),s=c.label,u=c.action;return o.createElement(i.Button,{secondary:!0,text:s,onClick:u})},W=function(e){var t=e.status,n=e.landing_company_shortcode,a=e.is_fully_authenticated,r=e.closeModal,c=e.closeModalAndOpenCashier,i=e.closeModalAndOpenPOA,s=e.closeModalAndOpenPOI,l=e.switchToVirtual;return o.createElement("div",{className:"status-dialog__footer"},o.createElement(Z,{closeModal:r,is_bypassed:t===D.FX.PENDING,status:t,landing_company_shortcode:n,switchToVirtual:l}),o.createElement(U,{status:t,landing_company_shortcode:n,closeModal:r,closeModalAndOpenCashier:c,closeModalAndOpenPOI:s,closeModalAndOpenPOA:i,is_fully_authenticated:a}))};W.propTypes={status:M().number,landing_company_shortcode:M().string,is_fully_authenticated:M().bool,closeModal:M().func,closeModalAndOpenCashier:M().func,closeModalAndOpenPOI:M().func,switchToVirtual:M().func};var V=function(e){var t=e.currency;return o.createElement(i.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),size:120})},B=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green",size:24})},X=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcAlertDanger",size:24})},G=function(e){var t=e.className;return o.createElement(i.Icon,{className:t,icon:"IcCrossCircle",size:24,color:"red"})},H=function(e){var t=e.closeModal;return o.createElement("div",{onClick:t,className:"status-dialog__close"},o.createElement(i.Icon,{icon:"IcCross"}))},$=function(e){var t=e.closeModal,n=e.country_standpoint,a=e.currency,c=e.history,l=e.icon_size,u=e.is_age_verified,d=e.is_belgium_residence,_=e.is_fully_authenticated,m=e.is_isle_of_man_residence,g=e.landing_company_shortcode,f=e.switchToVirtual,p=function(){return(0,D.Sj)({landing_company_shortcode:g,is_fully_authenticated:_,is_age_verified:u,is_isle_of_man_residence:m,is_belgium_residence:d})};return o.createElement(i.Div100vhContainer,{className:"status-dialog",is_disabled:(0,s.isDesktop)(),height_offset:"40px"},(0,s.isDesktop)()&&o.createElement(H,{closeModal:t}),o.createElement("div",{className:r()("status-dialog__header",{"status-dialog__header--large":"large"===l,"status-dialog__header--xlarge":"xlarge"===l})},o.createElement(V,{currency:a}),p()===D.FX.SUCCESS&&o.createElement(B,{className:"bottom-right-overlay"}),p()===D.FX.WARN&&o.createElement(X,{className:"bottom-right-overlay"}),p()===D.FX.DANGER&&o.createElement(G,{className:"bottom-right-overlay"})),o.createElement("div",{className:r()("status-dialog__body",{"status-dialog__body--no-grow":(0,s.isMobile)()})},o.createElement(j,{status:p(),landing_company_shortcode:g}),o.createElement(F,{country_standpoint:n,currency:a,is_fully_authenticated:_,landing_company_shortcode:g,status:p()})),o.createElement(W,{closeModal:t,closeModalAndOpenPOI:function(){t(),c.push(s.routes.proof_of_identity)},closeModalAndOpenPOA:function(){t(),c.push(s.routes.proof_of_address)},closeModalAndOpenCashier:function(){t(),c.push(s.routes.cashier_deposit)},is_fully_authenticated:_,landing_company_shortcode:g,status:p(),switchToVirtual:f}))};$.defaultProps={icon_size:"large"},$.propTypes={currency:M().string,closeModal:M().func,icon:M().object,icon_size:M().string,is_isle_of_man_residence:M().bool,is_belgium_residence:M().bool};const Y=(0,u.$j)((function(e){var t=e.client;return{country_standpoint:t.country_standpoint,landing_company_shortcode:t.landing_company_shortcode,is_fully_authenticated:t.is_fully_authenticated,is_age_verified:t.is_age_verified,is_isle_of_man_residence:"im"===t.residence,is_belgium_residence:"be"===t.residence,switchToVirtual:function(){return t.switchAccount(t.virtual_account_loginid)}}}))((0,c.withRouter)($));function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Q={account_wizard:0,add_or_manage_account:1,finished_set_currency:2,status_dialog:3,set_currency:4,signup_error:5,choose_crypto_currency:6,add_currency:7,finished_add_currency:8},ee=function(e){var t=e.real_account_signup_target,n=e.currency,a=e.is_isle_of_man_residence,r=e.country_standpoint,c="iom"===t,i="deposit_cash"===t;if(!("maltainvest"===t)&&!n)return o.createElement(l.Localize,{i18n_default_text:"Set a currency for your real account"});if(i)return o.createElement(l.Localize,{i18n_default_text:"Add a Deriv Gaming account"});if(c&&a)return o.createElement(l.Localize,{i18n_default_text:"Add a Deriv account"});switch(t){case"malta":return r.is_united_kingdom||r.is_rest_of_eu||r.is_belgium?o.createElement(l.Localize,{i18n_default_text:"Add a real Deriv Options account"}):o.createElement(l.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});case"iom":return r.is_united_kingdom?o.createElement(l.Localize,{i18n_default_text:"Add a real Deriv Gaming account"}):o.createElement(l.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});case"maltainvest":return r.is_united_kingdom||r.is_france||r.is_other_eu||r.is_rest_of_eu?o.createElement(l.Localize,{i18n_default_text:"Add a real Deriv Multipliers account"}):o.createElement(l.Localize,{i18n_default_text:"Add a Deriv Financial account"});case"samoa":return o.createElement(l.Localize,{i18n_default_text:"Terms of use"});default:return o.createElement(l.Localize,{i18n_default_text:"Add a Deriv account"})}};const te=(0,u.$j)((function(e){var t=e.ui,n=e.client,a=e.common,r=e.modules;return{available_crypto_currencies:n.available_crypto_currencies,has_fiat:n.has_fiat,has_real_account:n.has_active_real_account,continueRoute:r.cashier.continueRoute,currency:n.currency,deposit_target:r.cashier.deposit_target,is_eu:n.is_eu,country_standpoint:n.country_standpoint,is_real_acc_signup_on:t.is_real_acc_signup_on,real_account_signup_target:t.real_account_signup_target,replaceCashierMenuOnclick:r.cashier.replaceCashierMenuOnclick,closeRealAccountSignup:t.closeRealAccountSignup,setParams:t.setRealAccountSignupParams,is_from_restricted_country:n.is_from_restricted_country,is_isle_of_man_residence:"im"===n.residence,is_belgium_residence:"be"===n.residence,setIsDeposit:r.cashier.setIsDeposit,should_show_all_available_currencies:r.cashier.should_show_all_available_currencies,state_value:t.real_account_signup,routing_history:a.app_routing_history,deposit_real_account_signup_target:t.deposit_real_account_signup_target}}))((0,c.withRouter)((function(e){var t=e.available_crypto_currencies,n=e.closeRealAccountSignup,a=e.continueRoute,c=e.currency,u=e.deposit_target,f=e.has_fiat,p=e.has_real_account,y=e.country_standpoint,h=e.history,v=e.is_belgium_residence,b=e.is_from_restricted_country,E=e.is_isle_of_man_residence,S=e.is_eu,C=e.is_real_acc_signup_on,O=e.real_account_signup_target,z=e.replaceCashierMenuOnclick,M=e.routing_history,N=e.setIsDeposit,k=e.setParams,I=e.should_show_all_available_currencies,L=e.state_index,P=e.state_value,D=e.deposit_real_account_signup_target,T=J(o.useState(null),2),j=T[0],F=T[1],U=J(o.useState(!1),2),Z=U[0],W=U[1],V=J(o.useState(null),2),B=V[0],X=V[1],G=J(o.useState(!1),2),H=G[0],$=G[1],K=J(o.useState([{action:"signup",body:function(e){return o.createElement(d.Z,{setIsRiskWarningVisible:$,onFinishSuccess:te,onOpenWelcomeModal:ne,is_loading:e.is_loading,setLoading:oe,onError:ce,onClose:ie})},title:ee},{action:"multi",body:function(e){return o.createElement(m.Z,{onSuccessSetAccountCurrency:re,is_loading:e.is_loading,setLoading:oe,onError:ce,is_add_crypto:"add_crypto"===e.real_account_signup_target,is_add_fiat:"add_fiat"===e.real_account_signup_target,is_add_currency:"add_currency"===e.real_account_signup_target,deposit_target:e.deposit_target})},title:function(e){var t;return"add_crypto"===e.real_account_signup_target?(0,l.localize)("Create a cryptocurrency account"):"add_fiat"===e.real_account_signup_target?(0,l.localize)("Add a Deriv real account"):"add_currency"===e.real_account_signup_target?(0,l.localize)("Create a new account"):e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,l.localize)("Manage account"):(0,l.localize)("Add or manage account")}},{body:function(e){return o.createElement(x,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onCancel:ie,onSubmit:ae,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:n,continueRoute:a,setIsDeposit:N,history:h})},title:function(e){var t;return e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,l.localize)("Manage account"):(0,l.localize)("Add or manage account")}},{body:function(e){return o.createElement(Y,{currency:e.state_value.currency,closeModal:ie})}},{body:function(e){return o.createElement(w,{is_loading:e.is_loading,setLoading:oe,onError:ce,onClose:ie,onSuccessSetAccountCurrency:re})},title:ee},{body:function(e){return o.createElement(R,{message:e.state_value.error_message,code:e.state_value.error_code,onConfirm:se})},title:function(){return(0,l.localize)("Add a real account")}},{body:function(){return o.createElement(g.Z,{className:"account-wizard__body",onError:ce})},title:function(e){return e.should_show_all_available_currencies?(0,l.localize)("Choose an account"):(0,l.localize)("Choose a cryptocurrency account")}},{body:function(){return o.createElement(_.Z,{className:"account-wizard__body",onError:ce})},title:function(){return(0,l.localize)("Create a new account")}},{body:function(e){return o.createElement(A,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onSubmit:ae,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:n,continueRoute:a,setIsDeposit:N,history:h})}}]),1)[0],te=function(e){k({active_modal_index:Q.status_dialog,currency:e})},ne=function(e){n(),k({currency:e})},ae=function(){z(),n(),h.push(s.routes.cashier_deposit)},re=function(e,t,n){k({previous_currency:e,current_currency:t,active_modal_index:n?Q.finished_add_currency:Q.finished_set_currency})},oe=function(e){W(e)},ce=function(e,t){var n;t&&function(e){localStorage.setItem("real_account_signup_wizard",JSON.stringify(e.map((function(e){return"object"===q(e.form_value)&&e.form_value}))))}(t),F(null===(n=K[le()])||void 0===n?void 0:n.action),X(e)};o.useEffect((function(){B&&k({active_modal_index:Q.signup_error,error_message:B.message,error_code:B.code})}),[B]),o.useEffect((function(){b&&k({active_modal_index:Q.signup_error,error_message:(0,l.localize)("Sorry, account opening is unavailable in your region."),error_code:"InvalidAccount"})}),[b,C]);var ie=function(e){z(),"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(le()!==Q.status_dialog&&(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),n(),(0,s.isNavigationFromExternalPlatform)(M,s.routes.smarttrader)&&(window.location=s.routes.smarttrader),(0,s.isNavigationFromExternalPlatform)(M,s.routes.binarybot)&&(window.location=s.routes.binarybot))},se=function(){k({active_modal_index:"multi"===j?Q.add_or_manage_account:Q.account_wizard})},le=function(){return"choose"===O?Q.choose_crypto_currency:["add_crypto","add_fiat","add_currency"].includes(O)?Q.add_or_manage_account:-1===P.active_modal_index?p&&c&&"manage"===O?Q.add_or_manage_account:c||"maltainvest"===O?Q.account_wizard:Q.set_currency:P.active_modal_index},ue=K[le()],de=ue.title,_e=ue.body,me=Q.account_wizard,ge=Q.add_or_manage_account,fe=Q.finished_set_currency,pe=Q.status_dialog,ye=Q.set_currency,he=Q.signup_error,ve=[me,ge,ye,he].includes(le());return o.createElement(o.Fragment,null,o.createElement(i.DesktopWrapper,null,o.createElement(i.Modal,{id:"real_account_signup_modal",className:r()("real-account-signup-modal",{"dc-modal__container_real-account-signup-modal--error":le()===he,"dc-modal__container_real-account-signup-modal--success":[fe,pe].includes(le())}),is_open:C,is_risk_warning_visible:H,has_close_icon:"samoa"!==O,is_title_centered:"samoa"===O,renderTitle:function(){return de&&![fe,pe].includes(le())?o.createElement(de,{real_account_signup_target:O,currency:c,is_isle_of_man_residence:E,is_belgium_residence:v,is_eu:S,has_fiat:f,available_crypto_currencies:t,should_show_all_available_currencies:I,country_standpoint:y}):null},toggleModal:ie,height:le()===Q.status_dialog?"auto":c?p&&c?S&&le()===Q.add_or_manage_account?"420px":[Q.finished_set_currency,Q.finished_add_currency].includes(le())?"auto":"644px":"740px":"688px",width:ve?"904px":"auto",elements_to_ignore:[document.querySelector(".modal-root")]},C&&o.createElement(_e,{state_value:P,passthrough:L,is_loading:Z,real_account_signup_target:O,deposit_real_account_signup_target:D,deposit_target:u}))),o.createElement(i.MobileWrapper,null,o.createElement(i.MobileDialog,{portal_element_id:"modal_root",wrapper_classname:"account-signup-mobile-dialog",visible:C,onClose:ie,renderTitle:function(){return de?o.createElement(de,{real_account_signup_target:O,currency:c,is_isle_of_man_residence:E,is_belgium_residence:v,should_show_all_available_currencies:I,country_standpoint:y}):null}},C&&o.createElement(_e,{state_value:P,passthrough:L,is_loading:Z,real_account_signup_target:O,deposit_real_account_signup_target:D,deposit_target:u}))))})))},58226:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(32735),r=n(65597);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}const c=function(e){return a.createElement("div",{className:"account-signup-loader"},a.createElement(r.Loading,o({},e,{is_fullscreen:!1})))}},78497:(e,t,n)=>{n.d(t,{l:()=>_});var a=n(60216),r=n.n(a),o=n(32735),c=n(90258),i=n(17502),s=n(20374),l=n(75672),u=n(58468),d=function(e){var t=e.history,n=e.currency,a=e.setVerificationCode,r=e.hasAnyRealAccount,c=e.openRealAccountSignup,l=e.setResetTradingPasswordModalOpen,d=e.toggleAccountSignupModal,_=e.toggleResetPasswordModal,m=window.location.search,g=new URLSearchParams(m),f=!1,p=o.useContext(i.PlatformContext).is_dashboard;switch(a(g.get("code"),g.get("action")),g.get("action")){case"signup":p&&(t.push({pathname:i.routes.dashboard,search:m}),f=!0),sessionStorage.removeItem("redirect_url"),d(!0);break;case"reset_password":_(!0);break;case"trading_platform_mt5_password_reset":case"trading_platform_dxtrade_password_reset":var y=g.get("redirect_to");if(y){var h="";switch(y){case"1":h=i.routes.mt5;break;case"2":h=i.routes.dxtrade;break;case"3":h=i.routes.passwords}h&&(t.push({pathname:h,search:m}),f=!0)}l(!0);break;case"payment_withdraw":t.push(i.routes.cashier_withdrawal),f=!0;break;case"payment_agent_withdraw":t.push(i.routes.cashier_pa),f=!0;break;case"add_account":u.WS.wait("get_account_status").then((function(){return n?r()?c("manage"):c():c("set_currency")}));var v=g.get("ext_platform_url");v&&(t.push("".concat(i.routes.root,"?ext_platform_url=").concat(v)),f=!0);break;case"verification":sessionStorage.setItem("redirect_url",i.routes.cashier_p2p_verification),window.location.href=(0,i.loginUrl)({language:(0,s.getLanguage)()});break;case"trading_platform_investor_password_reset":var b;localStorage.setItem("cfd_reset_password_code",g.get("code"));var E=null===(b=localStorage.getItem("cfd_reset_password_intent"))||void 0===b?void 0:b.includes("demo");t.push("".concat(i.routes.mt5,"#").concat(E?"demo":"real","#reset-password")),f=!0}return f||t.push({pathname:i.routes.root,search:m}),null};d.propTypes={getServerTime:r().object,history:r().object,setResetTradingPasswordModalOpen:r().func,setVerificationCode:r().func,toggleAccountSignupModal:r().func,toggleResetPasswordModal:r().func};const _=(0,c.withRouter)((0,l.$j)((function(e){var t=e.client,n=e.ui;return{currency:t.currency,setVerificationCode:t.setVerificationCode,fetchResidenceList:t.fetchResidenceList,hasAnyRealAccount:t.hasAnyRealAccount,openRealAccountSignup:n.openRealAccountSignup,setResetTradingPasswordModalOpen:n.setResetTradingPasswordModalOpen,toggleAccountSignupModal:n.toggleAccountSignupModal,toggleResetPasswordModal:n.toggleResetPasswordModal}}))(d))},24793:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(60216),r=n.n(a),o=n(32735),c=n(65597),i=n(20374),s=n(75672),l=function(e){var t=e.is_visible,n=e.is_virtual,a=e.should_set_currency_modal_title_change,r=e.setCurrency,s=e.toggleModal;return o.createElement(c.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:t,small:!0,toggleModal:s,title:a?(0,i.localize)("No currency assigned to your account"):(0,i.localize)("You have an account that needs action")},o.createElement(c.Modal.Body,null,(0,i.localize)("Please set a currency for your existing real account before creating another account.")),o.createElement(c.Modal.Footer,null,n?o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("OK"),onClick:s,primary:!0}):o.createElement(o.Fragment,null,o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("Cancel"),onClick:s,secondary:!0}),o.createElement(c.Button,{has_effect:!0,text:(0,i.localize)("Set currency"),onClick:function(){s(),setTimeout((function(){r()}),250)},primary:!0}))))};l.propTypes={is_virtual:r().bool,is_visible:r().bool,should_set_currency_modal_title_change:r().bool,setCurrency:r().func,toggleModal:r().func};const u=(0,s.$j)((function(e){var t=e.client,n=e.modules,a=e.ui;return{is_virtual:t.is_virtual,is_visible:a.is_set_currency_modal_visible,should_set_currency_modal_title_change:n.cashier.should_set_currency_modal_title_change,setCurrency:a.openRealAccountSignup,toggleModal:a.toggleSetCurrencyModal}}))(l)},74222:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(32735);const r=function(e){var t=e.onUpdate;return a.useEffect((function(){var e=function(){document.removeEventListener("UpdateAvailable",t)},n=function(){document.addEventListener("UpdateAvailable",t)};return document.addEventListener("UpdateAvailable",t),document.addEventListener("IgnorePWAUpdate",e),document.addEventListener("ListenPWAUpdate",n),function(){document.removeEventListener("IgnorePWAUpdate",e),document.removeEventListener("ListenPWAUpdate",n),document.removeEventListener("UpdateAvailable",t)}}),[]),null}},93802:(e,t,n)=>{n.d(t,{Z:()=>_});var a=n(40841),r=n.n(a),o=n(60216),c=n.n(o),i=n(32735),s=n(17502),l=n(75672),u=n(65597),d=function(e){var t=e.is_mobile,n=e.server_time,a=(0,s.toGMTFormat)(n),o=(0,s.toLocalFormat)(n);return i.createElement(u.Popover,{alignment:"top",message:o,className:r()("server-time",{"server-time--is-mobile":t})},a)};d.propTypes={is_mobile:c().bool,server_time:c().object};const _=(0,l.$j)((function(e){return{server_time:e.common.server_time}}))(d)},7006:(e,t,n)=>{var a=n(60216),r=n.n(a),o=n(32735),c=n(12788),i=n(14956),s=n(40001),l=n.n(s),u=n(65597),d=n(17502),_=n(20374),m=n(10331),g=n.n(m),f=n(16636),p=n(75672),y=n(22816),h=n(563),v=["key","content"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var w=function(e){var t=e.toasts,n=e.removeToast;if(0===t.length)return null;var a=t.filter((function(e){return!e.is_bottom})),r=t.filter((function(e){return e.is_bottom})),i=function(e){var t=e.key,a=e.content,r=E(e,v);return o.createElement(u.Toast,b({key:t},r,{onClose:function(){return n(t)}}),a)},s=o.createElement(u.Div100vhContainer,{className:"toast-messages",height_offset:"15px"},o.createElement("div",{className:"toast-messages__top"},a.map(i)),o.createElement("div",{className:"toast-messages__bottom"},r.map(i)));return c.createPortal(s,document.getElementById("popup_root"))};w.propTypes={toasts:r().arrayOf(r().shape({key:r().string,timeout:r().number,content:r().oneOfType([r().node,r().string]),type:r().oneOf(["error","info"]),is_bottom:r().bool})),removeToast:r().func};const S=(0,p.$j)((function(e){var t=e.ui;return{toasts:t.toasts,removeToast:t.removeToast}}))(w);var A=n(61407),C=n(64797),O=n(20903),x=n(38937),z=n(96675),M=n(81472),N=n(4390),k=n(62428);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var P=function(e){var t=e.children;return(0,d.isMobile)()?c.createPortal(t,document.getElementById("deriv_app")):t},R=function(e){var t=e.is_notification_loaded,n=e.style,a=e.notifications,r=e.removeNotificationMessage;return o.createElement("div",{className:"notification-messages",style:n},o.createElement(M.Z,{component:"div"},a.map((function(e,n){return o.createElement(N.Z,{appear:!t,key:n,in:!!e.header,timeout:150,classNames:{appear:"notification--enter",enter:"notification--enter",enterDone:"notification--enter-done",exit:"notification--exit"},unmountOnExit:!0},o.createElement(k.ZP,{data:e,removeNotificationMessage:r}))}))))},D=function(e){var t=e.is_notification_loaded,n=e.is_mt5,a=e.marked_notifications,r=e.notification_messages,c=e.removeNotificationMessage,i=e.stopNotificationLoading,s=I(o.useState({}),2),l=s[0],u=s[1],_=I(o.useState(null),2),m=_[0],g=_[1];o.useEffect((function(){if(n&&i(),m&&(0,d.isMobile)()){var e=m.parentElement.getBoundingClientRect();u({top:e.top+8})}}),[m]);var f=r.filter((function(e){var t=!a.includes(e.key),n=!(0,d.isMobile)()||["unwelcome","contract_sold","dp2p","tnc","deriv_go"].includes(e.key);return t&&n})),p=(0,d.isMobile)()?k.fh:k.S_,y=f.slice(0,p);return y.length?o.createElement("div",{ref:function(e){return g(e)},className:"notification-messages-bounds"},o.createElement(P,null,o.createElement(R,{notifications:y,is_notification_loaded:t,style:l,removeNotificationMessage:c}))):null};D.propTypes={marked_notifications:r().array,notification_messages:r().arrayOf(r().shape({closeOnClick:r().func,delay:r().number,header:r().string,is_auto_close:r().bool,message:r().oneOfType([r().node,r().string]),size:r().oneOf(["small"]),type:r().oneOf(["warning","info","success","danger","contract_sold","news","announce"])})),removeNotificationMessage:r().func};const T=(0,p.$j)((function(e){var t=e.ui;return{marked_notifications:t.marked_notifications,notification_messages:t.notification_messages,removeNotificationMessage:t.removeNotificationMessage}}))(D);var j=n(86531),F=n(16),U=n(90258),Z=n(23942),W=n.n(Z),V=n(32577);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=W()({loader:function(){return Promise.resolve().then(n.bind(n,62792))},loading:u.UILoader,render:function(e,t){var n=e.default;return o.createElement(n,t)}}),$=function(e){var t=e.addRouteHistoryItem,n=e.error,a=e.has_error,r=e.history,c=e.is_logged_in,i=e.is_logging_in,s=e.location,l=e.passthrough,u=e.setAppRouterHistory,m=e.setInitialRouteHistoryItem,g=o.useRef(null),f=o.useRef(null);o.useEffect((function(){return f.current||g.current||(g.current=s.pathname),m(r.location),f.current=r.listen((function(e,n){["PUSH","POP"].includes(n)&&t(X(X({},e),{},{action:n}))})),u(r),function(){"function"==typeof f.current&&(f.current(),f.current=null,g.current=null)}}),[]);var p=(0,_.getLanguage)(),y=/[?&]lang=/.test(s.search);return a?o.createElement(H,n):((!y&&"EN"!==p||y&&"EN"===p)&&window.history.replaceState({},document.title,(0,d.urlForLanguage)(p)),o.createElement(V.ZP,{is_logged_in:c,is_logging_in:i,passthrough:l}))};$.propTypes={addRouteHistoryItem:r().func,error:F.PropTypes.objectOrObservableObject,has_error:r().bool,history:r().object,is_logged_in:r().bool,is_logging_in:r().bool,is_virtual:r().bool,setAppRouterHistory:r().func,setInitialRouteHistoryItem:r().func};const Y=(0,U.withRouter)((0,p.$j)((function(e){var t=e.client,n=e.common;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,error:n.error,has_error:n.has_error,setAppRouterHistory:n.setAppRouterHistory,addRouteHistoryItem:n.addRouteHistoryItem,setInitialRouteHistoryItem:n.setInitialRouteHistoryItem}}))($));var q=n(59001),J=n(28284),K=n(18880);(0,q.configure)({enforceActions:"observed"});const Q=function(e){var t=window.location.search;if("signup"===new URLSearchParams(t).get("action")){var n=localStorage.getItem("config.server_url"),a=localStorage.getItem("config.app_id");localStorage.clear(),n&&localStorage.setItem("config.server_url",n),a&&localStorage.setItem("config.app_id",a)}var r=new K.Z;return function(e){window.addEventListener("storage",(function(t){switch(t.key){case"client.accounts":var n,a,r,o,c=e.client.loginid,i=null===(n=JSON.parse(t.newValue))||void 0===n||null===(a=n[c])||void 0===a?void 0:a.currency,s=null===(r=JSON.parse(t.oldValue))||void 0===r||null===(o=r[c])||void 0===o?void 0:o.currency;document.hidden&&i&&s!==i&&e.client.updateAccountCurrency(i,!1);break;case"active_loginid":document.hidden&&window.location.reload();break;case"reality_check_dismissed":document.hidden&&e.client.setVisibilityRealityCheck(!JSON.parse(t.newValue))}}))}(r),J.Z.init(r),r.client.init(),r.ui.init(e),r.pushwoosh.init(),r};var ee=n(74495),te=n(46746);function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var re=function(e){var t=e.root_store,n=window.location,a=n.pathname.split("/")[1],r=/^\/(br_)/.test(n.pathname),c=ne((0,_.useOnLoadTranslation)(),1)[0];o.useEffect((function(){t.modules.attachModule("cashier",new(g())({root_store:t,WS:f.Z}))}),[]),o.useEffect((function(){(0,_.initializeTranslations)(),(0,d.setUrlLanguage)((0,_.getLanguage)()),(0,d.initFormErrorMessages)(ee.U),(0,d.setSharedCFDText)(te.B),s(),t.common.setPlatform()}),[]);var s=o.useCallback((function(){if((0,d.isTouchDevice)()&&(0,d.isMobile)()){var e="Android"===(0,d.mobileOSDetect)(),n=e?screen.availWidth:window.innerWidth,a=e?screen.availHeight:window.innerHeight,r=document.getElementById("landscape_blocker");n<=a?(t.ui.onOrientationChange({is_landscape_orientation:!1}),r.classList.remove("landscape-blocker--visible")):(t.ui.onOrientationChange({is_landscape_orientation:!0}),r.classList.add("landscape-blocker--visible"))}}),[t.ui]);o.useEffect((function(){var e=l()(s,400);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[s]);var m={root_store:t,WS:f.Z};return o.createElement(o.Fragment,null,c?o.createElement(i.BrowserRouter,{basename:r?"/".concat(a):null},o.createElement(p.z1,{store:t},o.createElement(O.Z,null,o.createElement(z.Z,null),o.createElement(A.Z,null,o.createElement(C.Z,null,o.createElement(Y,{passthrough:m}))),o.createElement(u.DesktopWrapper,null,o.createElement(x.Z,null)),o.createElement(j.Z,null),o.createElement(y.Z,null),o.createElement(h.Z,null),o.createElement(S,null)))):o.createElement(o.Fragment,null))};re.propTypes={root_store:r().object};if(!(0,d.checkAndSetEndpointFromUrl)()){var oe=Q(T),ce=document.getElementById("deriv_app");ce&&c.render(o.createElement(re,{root_store:oe}),ce)}}}]);